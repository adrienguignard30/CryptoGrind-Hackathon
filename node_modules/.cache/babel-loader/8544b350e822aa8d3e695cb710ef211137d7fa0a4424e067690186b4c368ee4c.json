{"ast":null,"code":"import { NAME, VERSION } from '../sdk-info.js';\nimport { getCrossOriginOpenerPolicy } from './checkCrossOriginOpenerPolicy.js';\nimport { standardErrors } from '../core/error/errors.js';\nconst POPUP_WIDTH = 420;\nconst POPUP_HEIGHT = 540;\n// Window Management\nexport function openPopup(url) {\n  const left = (window.innerWidth - POPUP_WIDTH) / 2 + window.screenX;\n  const top = (window.innerHeight - POPUP_HEIGHT) / 2 + window.screenY;\n  appendAppInfoQueryParams(url);\n  const popupId = `wallet_${crypto.randomUUID()}`;\n  const popup = window.open(url, popupId, `width=${POPUP_WIDTH}, height=${POPUP_HEIGHT}, left=${left}, top=${top}`);\n  popup === null || popup === void 0 ? void 0 : popup.focus();\n  if (!popup) {\n    throw standardErrors.rpc.internal('Pop up window failed to open');\n  }\n  return popup;\n}\nexport function closePopup(popup) {\n  if (popup && !popup.closed) {\n    popup.close();\n  }\n}\nfunction appendAppInfoQueryParams(url) {\n  const params = {\n    sdkName: NAME,\n    sdkVersion: VERSION,\n    origin: window.location.origin,\n    coop: getCrossOriginOpenerPolicy()\n  };\n  for (const [key, value] of Object.entries(params)) {\n    url.searchParams.append(key, value.toString());\n  }\n}","map":{"version":3,"names":["NAME","VERSION","getCrossOriginOpenerPolicy","standardErrors","POPUP_WIDTH","POPUP_HEIGHT","openPopup","url","left","window","innerWidth","screenX","top","innerHeight","screenY","appendAppInfoQueryParams","popupId","crypto","randomUUID","popup","open","focus","rpc","internal","closePopup","closed","close","params","sdkName","sdkVersion","origin","location","coop","key","value","Object","entries","searchParams","append","toString"],"sources":["../../src/util/web.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,IAAI,EAAEC,OAAO,QAAQ,gBAAgB;AAC9C,SAASC,0BAA0B,QAAQ,mCAAmC;AAC9E,SAASC,cAAc,QAAQ,yBAAwB;AAEvD,MAAMC,WAAW,GAAG,GAAG;AACvB,MAAMC,YAAY,GAAG,GAAG;AAExB;AAEA,OAAM,SAAUC,SAASA,CAACC,GAAQ;EAChC,MAAMC,IAAI,GAAG,CAACC,MAAM,CAACC,UAAU,GAAGN,WAAW,IAAI,CAAC,GAAGK,MAAM,CAACE,OAAO;EACnE,MAAMC,GAAG,GAAG,CAACH,MAAM,CAACI,WAAW,GAAGR,YAAY,IAAI,CAAC,GAAGI,MAAM,CAACK,OAAO;EACpEC,wBAAwB,CAACR,GAAG,CAAC;EAE7B,MAAMS,OAAO,GAAG,UAAUC,MAAM,CAACC,UAAU,EAAE,EAAE;EAC/C,MAAMC,KAAK,GAAGV,MAAM,CAACW,IAAI,CACvBb,GAAG,EACHS,OAAO,EACP,SAASZ,WAAW,YAAYC,YAAY,UAAUG,IAAI,SAASI,GAAG,EAAE,CACzE;EAEDO,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,KAAK,EAAE;EAEd,IAAI,CAACF,KAAK,EAAE;IACV,MAAMhB,cAAc,CAACmB,GAAG,CAACC,QAAQ,CAAC,8BAA8B,CAAC;EACnE;EAEA,OAAOJ,KAAK;AACd;AAEA,OAAM,SAAUK,UAAUA,CAACL,KAAoB;EAC7C,IAAIA,KAAK,IAAI,CAACA,KAAK,CAACM,MAAM,EAAE;IAC1BN,KAAK,CAACO,KAAK,EAAE;EACf;AACF;AAEA,SAASX,wBAAwBA,CAACR,GAAQ;EACxC,MAAMoB,MAAM,GAAG;IACbC,OAAO,EAAE5B,IAAI;IACb6B,UAAU,EAAE5B,OAAO;IACnB6B,MAAM,EAAErB,MAAM,CAACsB,QAAQ,CAACD,MAAM;IAC9BE,IAAI,EAAE9B,0BAA0B;GACjC;EAED,KAAK,MAAM,CAAC+B,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACT,MAAM,CAAC,EAAE;IACjDpB,GAAG,CAAC8B,YAAY,CAACC,MAAM,CAACL,GAAG,EAAEC,KAAK,CAACK,QAAQ,EAAE,CAAC;EAChD;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}